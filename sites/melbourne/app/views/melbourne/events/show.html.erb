<% set_meta_tags @event.open_graph_metadata %>

<% content_for :head do %>
  <%= turbo_refreshes_with scroll: :preserve %>
<% end %>

<% content_for :head do %>
  <script type="application/ld+json">
    <%= raw JSON.pretty_generate @event.schema %>
  </script>
<% end %>

<%= content_for :upcoming_events do  %>
  <%= render @upcoming_events, selected_event: @selected_event %>
<% end %>

<%= content_for :past_events do  %>
  <%= render @past_events, selected_event: @selected_event %>
<% end %>

<%= content_for :event_summary do  %>
  <% if @event %>
    <%= render "melbourne/events/summary", event: @event %>
  <% else %>
    <%= render "melbourne/events/no_upcoming_summary" %>
  <% end %>
<% end %>

<%= render "layouts/melbourne/jumbotron" %>

